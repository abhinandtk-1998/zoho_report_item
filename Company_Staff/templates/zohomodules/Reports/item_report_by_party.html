{% extends 'base.html' %}
{% block content %}
{% load static %}
{% load social_share %}



<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.4/xlsx.full.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.3/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.0/html2canvas.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


<style>
    .content {
        display: none;
        position: absolute;
        background-color: black;
        min-width: 350px;
        min-height: 250px;
        padding: 10px;
        border: 1px solid #ccc;
        height: fit-content;
        z-index: 1;
    }
</style>




<body>

    <div class="body-wrapper">
        <div class="container-fluid ">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb text-light">
                    {% if log_details.user_type == 'Staff' %}
                        <li class="breadcrumb-item"><a href="{% url 'staff_dashboard' %}" class="text-warning">Dashboard</a></li>
                    {% endif %}
                    {% if log_details.user_type == 'Company' %}
                        <li class="breadcrumb-item"><a href="{% url 'company_dashboard' %}" class="text-warning">Dashboard</a></li>
                    {% endif %}
                    <li class="breadcrumb-item" aria-current="page">Item Report By Party</li>
                </ol>
            </nav>

            <div> 

                <div class=" mt-lg-4 mt-2 rounded p-4" style="background-color: rgb(0, 0, 0);color: white;">
                    <h1 class="text-light">Item Report By Party</h1>
                    <br>
                    <div class="row">
                        <div class="col-md-6 d-flex p-2 ">

                            <div class="col-md-6">
                              <div class="position-relative">
                                  <button class="btn btn-warning" onclick="toggleContent()"><i class="fas fa-solid fa-gear"></i> Customize Report</button>
                                  <div id="contentDiv" class="content">
                                      <h6 style="color: white;">Customize Report</h6>
                                      <form action="" class="form reportCustomizeForm" method="get">
                                          <div class="px-2">
                                              <label style="text-align:left ">From</label><br>
                                              <input name="from_date" class="inputdate form-control text-light" type="date" id="startDate" value="{{startDate}}" >
                                              
                                          </div> 
                                          <div class="px-2">
                                              <label style="text-align:left ">To</label><br>
                                              <input name="to_date" type="date" class="inputdate form-control text-light" id="endDate" value="{{endDate}}">
                                          </div>
                                          <div class="px-2">
                                              <label style="text-align:left;color: white;">Party</label><br>
                                              <div class="p-0 border-0 bg-none position-relative drop-box">
                                                <input required type="text" id="customer" value="" name="customer" class="dropdown-toggle form-control text-white customers-display" onkeyup="filterCustomers()" data-bs-toggle="dropdown" aria-expanded="false" placeholder="Select Customer.." autocomplete="off">
                                                <ul class="dropdown-menu w-100 customers-available position-absolute bg-black text-white" id="cust_drop"  style="overflow-y: auto; height: fit-content;max-height: 40vh; border: 1px solid gray;"> 
                                                    <li class="dropdown-item customers-options text-white">Select Customer</li>
                                                    <optgroup id="expensesel" label="Customer">
                                        
                                                        {% for i in accounts %}
                            
                                                        {% if i.account_type == 'Expense' %}
                                                        
                                                            <option value="{{i.account_name}}">{{i.account_name}}</option>
                                                    
                                                        {% endif %}
                                                        {% endfor %}
                                                    </optgroup>
                                                </ul>
                                                
                                            </div>
                                          </div>
                                          <div class="d-flex px-2 mt-3 mb-4">
                                              <button type="submit" class="btn btn-outline-light w-50">Run Report</button>
                                              <button type="reset" onclick="toggleContent()" class="btn btn-outline-light ml-1 w-50">Cancel</button>
                                          </div>
                                      </form>
                                  </div>
                              </div>
                            </div>
                            
                                
                                
                          </div>




                    </div>






                </div>

            </div>

        





    </div>

    <script>
        function toggleContent() {
            var contentDiv = document.getElementById("contentDiv");
            if (contentDiv.style.display === "block") {
                contentDiv.style.display = "none";
            } else {
                contentDiv.style.display = "block";
                // Position the div just below the button
                // var buttonRect = event.target.getBoundingClientRect();
                // contentDiv.style.top = (buttonRect.bottom + window.scrollY) + "px";
                // contentDiv.style.left = buttonRect.left + "px";
            }
        }


    </script>










</body>












{% endblock %}